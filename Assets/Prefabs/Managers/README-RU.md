# Система респавна врагов с увеличением сложности

## Описание системы
Данная система позволяет автоматически генерировать новые волны врагов после того, как все существующие враги будут уничтожены. С каждой новой волной количество противников может увеличиваться, что повышает сложность игры.

## Настройка системы

### Шаг 1: Размещение EnemyManager
1. Перетащите префаб `EnemyManager` из папки `Prefabs/Managers` в вашу сцену.
2. Или создайте пустой GameObject, назовите его "EnemyManager" и добавьте компонент "EnemyManager".

### Шаг 2: Настройка точек спавна
1. Разместите в сцене несколько точек спавна, используя префаб `SpawnPoint` из папки `Prefabs`.
2. Для быстрого создания точек спавна можно использовать кнопки в инспекторе EnemyManager:
   - "Найти все точки спавна в сцене" - автоматически находит все объекты SpawnPoint в сцене
   - "Создать 4 точки спавна по углам" - создает 4 точки по четырем углам сцены

### Шаг 3: Настройка параметров EnemyManager
Выберите объект EnemyManager в сцене и укажите следующие параметры:
- **Enemy Prefabs**: перетащите один или несколько префабов врагов, которые будут создаваться
- **Spawn Points**: укажите точки спавна (или используйте кнопки автоматического поиска)
- **Enemies Per Wave**: базовое количество врагов в каждой волне
- **Respawn Delay**: задержка в секундах перед появлением новой волны после уничтожения всех врагов
- **Max Waves**: максимальное количество волн (0 для бесконечных волн)
- **Increase Enemies Per Wave**: включает увеличение количества врагов с каждой волной
- **Enemy Increase Per Wave**: насколько увеличивается количество врагов с каждой новой волной

### Шаг 4: Добавление интерфейса волны (опционально)
1. Добавьте на сцену Canvas, если его еще нет.
2. Перетащите на Canvas префаб `WaveIndicator` из папки `Prefabs/UI`.
3. Префаб автоматически подключится к EnemyManager и будет показывать номер текущей волны.

## Как работает система
1. При старте находит всех существующих врагов на сцене.
2. Если врагов нет, создает начальную волну.
3. При уничтожении всех врагов запускается таймер на заданную задержку.
4. По истечении таймера появляется новая волна с увеличенным числом врагов.
5. Процесс повторяется до достижения максимального числа волн.

## Возможные расширения
- Добавление разных типов врагов с разными характеристиками
- Добавление боссов через определенное количество волн
- Добавление бонусов или усиление игрока после каждой волны

## Требования
Для корректной работы системы все враги на сцене должны иметь компонент EnemyEntity с реализованным событием OnEnemyDeath, которое вызывается при смерти врага.

## Примечание
При неправильной настройке системы проверьте консоль Unity для отладочных сообщений, которые помогут определить проблему.
